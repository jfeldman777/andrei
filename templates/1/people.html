{% extends 'base1.html' %}
{% load custom_filters %}
{% block content %}
{% load static %}
<div class="bar">
  <h4>
    Все сотрудники</h4>
</div>

<table id="example" class="display" style="width:100%;"><thead>
    <tr style="text-align:center;">
      <th>
         Сотрудник
        </th>
      <th>Ресурсный пул</th>
{% for i in nx %}

    <th>.</th>
{% endfor %}
    </tr>
    </thead>
    <tbody>

      {% for cell in data2 %} <tr>
      <td style="text-align: center; ">
<a href="/person_form/{{cell.id}}/">
        {{ cell.fio }}
          </a>
      </td>
      <td style="text-align: center; ">
{% if cell.role %}
             <a href="/grade_form/{{cell.id}}/{{cell.role.id}}/">
        {{ cell.role }}
                 {% if cell.grade %}
                 ({{cell.grade}})
                 {% endif %}
          </a>
          {% else %}
          ?
          {% endif %}   </td>
   {% for choice in cell.res %}

      <td style="text-align: center; ">
          <a href="/grade_form/{{cell.id}}/{{choice.id}}/">
      {{ choice.role }}
       {% if choice.role %}
              ({{choice.grade}}){% else %}
              .
    {% endif %}
                        </a> </td>
   {% endfor %}



    </tr>
    {% endfor %}</tbody>
</table>
<script>

$(document).ready(function () {
    $('#example').DataTable({
        scrollY: '75vh',
        scrollCollapse: true,
        paging: false,
    });
});
</script>



{% endblock %}